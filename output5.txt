[0m[1mmodule.ecr_cleanup.module.lambda_ecr_cleaner.aws_cloudwatch_log_group.lambda[0]: Refreshing state... [id=/aws/lambda/dev-ecr-cleanup-lambda][0m
[0m[1mdata.aws_kms_key.aws_s3_key: Reading...[0m[0m
[0m[1mmodule.ecr_cleanup.aws_iam_role.lambda-ecr-cleaner-role: Refreshing state... [id=dev-lambda-ecr-cleaner-role-1][0m
[0m[1mmodule.ecr_cleanup.aws_cloudwatch_event_rule.night_clean: Refreshing state... [id=dev-cron-ecr-clean][0m
[0m[1mmodule.sqs_module.aws_sqs_queue.this[0]: Refreshing state... [id=https://sqs.us-east-1.amazonaws.com/370365354210/dev-test-sqs-1][0m
[0m[1maws_apigatewayv2_api.main_apigw: Refreshing state... [id=hlyxprx072][0m
[0m[1mmodule.dynamodb_table.aws_dynamodb_table.this[0]: Refreshing state... [id=dev-pets-table-1][0m
[0m[1mmodule.ecr_module.module.ecr.aws_ecr_repository.repo: Refreshing state... [id=isengardecr][0m
[0m[1mdata.aws_kms_key.aws_s3_key: Read complete after 0s [id=fbfd10be-a2f9-423a-8b94-352f353e07ff][0m
[0m[1mmodule.test_bucket.aws_s3_bucket.this[0]: Refreshing state... [id=dev-project-terraform-state-dev][0m
[0m[1mmodule.sqs_module.data.aws_arn.this[0]: Reading...[0m[0m
[0m[1mmodule.sqs_module.data.aws_arn.this[0]: Read complete after 0s [id=arn:aws:sqs:us-east-1:370365354210:dev-test-sqs-1][0m
[0m[1mmodule.ecr_module.module.ecr.aws_ecr_repository_policy.policy[0]: Refreshing state... [id=isengardecr][0m
[0m[1mmodule.ecr_cleanup.aws_iam_role_policy.lambda-ecr-cleaner-role-policy: Refreshing state... [id=dev-lambda-ecr-cleaner-role-1:dev-lambda-ecr-cleaner-role][0m
[0m[1mmodule.test_bucket.aws_s3_bucket_public_access_block.this[0]: Refreshing state... [id=dev-project-terraform-state-dev][0m

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [32m+[0m create
[0m
Terraform will perform the following actions:

[1m  # module.ecr_cleanup.aws_cloudwatch_event_target.target_night_clean[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_cloudwatch_event_target" "target_night_clean" {
      [32m+[0m [0m[1m[0marn[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0mevent_bus_name[0m[0m = "default"
      [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)
      [32m+[0m [0m[1m[0mrule[0m[0m           = "dev-cron-ecr-clean"
      [32m+[0m [0m[1m[0mtarget_id[0m[0m      = "check_foo"
    }

[1m  # module.ecr_cleanup.module.lambda_ecr_cleaner.aws_lambda_function.this[0][0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_lambda_function" "this" {
      [32m+[0m [0m[1m[0marchitectures[0m[0m                  = (known after apply)
      [32m+[0m [0m[1m[0marn[0m[0m                            = (known after apply)
      [32m+[0m [0m[1m[0mdescription[0m[0m                    = "Lambda function that removes the unused ecr images"
      [32m+[0m [0m[1m[0mfilename[0m[0m                       = ".terraform/modules/ecr_cleanup/ecr/ecrCleaner/package.zip"
      [32m+[0m [0m[1m[0mfunction_name[0m[0m                  = "dev-ecr-cleanup-lambda-1"
      [32m+[0m [0m[1m[0mhandler[0m[0m                        = "package.handler"
      [32m+[0m [0m[1m[0mid[0m[0m                             = (known after apply)
      [32m+[0m [0m[1m[0minvoke_arn[0m[0m                     = (known after apply)
      [32m+[0m [0m[1m[0mlast_modified[0m[0m                  = (known after apply)
      [32m+[0m [0m[1m[0mmemory_size[0m[0m                    = 128
      [32m+[0m [0m[1m[0mpackage_type[0m[0m                   = "Zip"
      [32m+[0m [0m[1m[0mpublish[0m[0m                        = false
      [32m+[0m [0m[1m[0mqualified_arn[0m[0m                  = (known after apply)
      [32m+[0m [0m[1m[0mqualified_invoke_arn[0m[0m           = (known after apply)
      [32m+[0m [0m[1m[0mreserved_concurrent_executions[0m[0m = -1
      [32m+[0m [0m[1m[0mrole[0m[0m                           = "arn:aws:iam::370365354210:role/dev-lambda-ecr-cleaner-role-1"
      [32m+[0m [0m[1m[0mruntime[0m[0m                        = "python3.8"
      [32m+[0m [0m[1m[0msigning_job_arn[0m[0m                = (known after apply)
      [32m+[0m [0m[1m[0msigning_profile_version_arn[0m[0m    = (known after apply)
      [32m+[0m [0m[1m[0msource_code_hash[0m[0m               = "QgLkpvei5MhjBzSzcPcRgXiZBmzVwW8PifhdxmwmWB4="
      [32m+[0m [0m[1m[0msource_code_size[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0mtags[0m[0m                           = {
          [32m+[0m [0m"Environment" = "dev"
          [32m+[0m [0m"Terraform"   = "true"
        }
      [32m+[0m [0m[1m[0mtags_all[0m[0m                       = {
          [32m+[0m [0m"Environment" = "dev"
          [32m+[0m [0m"Terraform"   = "true"
        }
      [32m+[0m [0m[1m[0mtimeout[0m[0m                        = 120
      [32m+[0m [0m[1m[0mversion[0m[0m                        = (known after apply)

      [32m+[0m [0menvironment {
          [32m+[0m [0m[1m[0mvariables[0m[0m = {
              [32m+[0m [0m"DRYRUN"            = "false"
              [32m+[0m [0m"IGNORE_TAGS_REGEX" = "release|archive"
              [32m+[0m [0m"IMAGES_TO_KEEP"    = "15"
              [32m+[0m [0m"REGION"            = "us-east-1"
              [32m+[0m [0m"REPO_NAME"         = ""
            }
        }

      [32m+[0m [0mephemeral_storage {
          [32m+[0m [0m[1m[0msize[0m[0m = (known after apply)
        }

      [32m+[0m [0mtracing_config {
          [32m+[0m [0m[1m[0mmode[0m[0m = (known after apply)
        }
    }

[0m[1mPlan:[0m 2 to add, 0 to change, 0 to destroy.
[0m[33mâ•·[0m[0m
[33mâ”‚[0m [0m[1m[33mWarning: [0m[0m[1mArgument is deprecated[0m
[33mâ”‚[0m [0m
[33mâ”‚[0m [0m[0m  with module.test_bucket.aws_s3_bucket.this[0],
[33mâ”‚[0m [0m  on .terraform\modules\test_bucket\s3\main.tf line 1, in resource "aws_s3_bucket" "this":
[33mâ”‚[0m [0m   1: resource "aws_s3_bucket" "this" [4m{[0m[0m
[33mâ”‚[0m [0m
[33mâ”‚[0m [0mUse the aws_s3_bucket_server_side_encryption_configuration resource instead
[33mâ”‚[0m [0m
[33mâ”‚[0m [0m(and one more similar warning elsewhere)
[33mâ•µ[0m[0m
[90m
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

Note: You didn't use the -out option to save this plan, so Terraform can't
guarantee to take exactly these actions if you run "terraform apply" now.
